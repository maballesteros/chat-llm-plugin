/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// main.ts
var main_exports = {};
__export(main_exports, {
  default: () => ChatPlugin
});
module.exports = __toCommonJS(main_exports);
var import_obsidian = require("obsidian");
var DEFAULT_SETTINGS = {
  apiKey: "",
  model: "gpt-4o"
};
var GPTService = class {
  constructor(plugin) {
    this.plugin = plugin;
  }
  async fetchResponse(messages) {
    var _a, _b, _c;
    const apiKey = this.plugin.settings.apiKey;
    if (!apiKey) {
      new import_obsidian.Notice("Configura tu API Key en los ajustes del plugin.");
      return "Error: No API Key";
    }
    const payload = {
      model: this.plugin.settings.model,
      messages
    };
    console.log("GPTService: enviando a OpenAI payload:", payload);
    const response = await fetch("https://api.openai.com/v1/chat/completions", {
      method: "POST",
      headers: {
        "Content-Type": "application/json",
        "Authorization": `Bearer ${apiKey}`
      },
      body: JSON.stringify(payload)
    });
    const data = await response.json();
    return ((_c = (_b = (_a = data.choices) == null ? void 0 : _a[0]) == null ? void 0 : _b.message) == null ? void 0 : _c.content) || "Error en la respuesta de OpenAI";
  }
};
var ChatPlugin = class extends import_obsidian.Plugin {
  async onload() {
    await this.loadSettings();
    this.gptService = new GPTService(this);
    this.registerView("chat-panel", (leaf) => new ChatView(leaf, this));
    this.addRibbonIcon("message-square", "Open Chat", () => this.activateChatView());
    console.log("Agregando bot\xF3n de nota diaria!");
    this.addRibbonIcon("document", "Crear Nota Diaria", () => this.createDailyNote());
    this.addSettingTab(new ChatSettingTab(this.app, this));
    this.addCommand({
      id: "autocomplete-with-ai",
      name: "Autocompletar con IA",
      callback: () => this.autocompleteWithAI()
    });
  }
  /**
   * Obtiene el editor Markdown activo.
   */
  getActiveMarkdownEditor() {
    const markdownLeaf = this.app.workspace.getLeavesOfType("markdown").find((leaf) => leaf.containerEl.offsetParent !== null && leaf.view instanceof import_obsidian.MarkdownView);
    if (markdownLeaf) {
      return markdownLeaf.view.editor;
    }
    return null;
  }
  /**
   * Comando de autocompletar: obtiene el contenido actual del editor,
   * consulta a GPT y agrega la respuesta.
   */
  async autocompleteWithAI() {
    const editor = this.getActiveMarkdownEditor();
    if (!editor) {
      new import_obsidian.Notice("No se encontr\xF3 un editor activo.");
      return;
    }
    const cursor = editor.getCursor();
    const userText = editor.getRange({ line: 0, ch: 0 }, cursor).trim();
    if (!userText) {
      new import_obsidian.Notice("El editor est\xE1 vac\xEDo. Escribe algo antes de autocompletar.");
      return;
    }
    const messages = [
      { role: "system", content: "Eres un asistente IA que completa los textos que te env\xEDan los usuarios, respetando el estilo y tono previo. No dices nada m\xE1s, simplemente contin\xFAas el texto que te pasan." },
      { role: "user", content: userText }
    ];
    console.log("AutocompleteWithAI payload:", messages);
    const response = await this.gptService.fetchResponse(messages);
    if (!response || response.startsWith("Error")) {
      new import_obsidian.Notice("Hubo un problema obteniendo la respuesta de la IA.");
      return;
    }
    editor.replaceRange(`
${response}`, cursor);
    new import_obsidian.Notice("Texto autocompletado con IA.");
  }
  async activateChatView() {
    const { workspace } = this.app;
    let leaf = workspace.getLeavesOfType("chat-panel")[0];
    if (!leaf) {
      leaf = workspace.getRightLeaf(false);
      await leaf.setViewState({ type: "chat-panel", active: true });
    }
    workspace.revealLeaf(leaf);
  }
  async createDailyNote() {
    const now = new Date();
    const year = now.getFullYear().toString();
    const month = String(now.getMonth() + 1).padStart(2, "0");
    const day = String(now.getDate()).padStart(2, "0");
    const yearFolder = year;
    const monthFolder = `${year}-${month}`;
    const dayFolder = `${year}-${month}-${day}`;
    const notePath = `${yearFolder}/${monthFolder}/${dayFolder}/${dayFolder}.md`;
    let file = this.app.vault.getAbstractFileByPath(notePath);
    if (!file) {
      try {
        await this.app.vault.adapter.mkdir(yearFolder);
      } catch (e) {
      }
      try {
        await this.app.vault.adapter.mkdir(`${yearFolder}/${monthFolder}`);
      } catch (e) {
      }
      try {
        await this.app.vault.adapter.mkdir(`${yearFolder}/${monthFolder}/${dayFolder}`);
      } catch (e) {
      }
      file = await this.app.vault.create(notePath, `# ${dayFolder}

`);
    }
    const leaf = this.app.workspace.getLeaf(true);
    await leaf.openFile(file);
  }
  async loadSettings() {
    this.settings = Object.assign({}, DEFAULT_SETTINGS, await this.loadData());
  }
  async saveSettings() {
    await this.saveData(this.settings);
  }
};
var ChatView = class extends import_obsidian.ItemView {
  constructor(leaf, plugin) {
    super(leaf);
    this.plugin = plugin;
  }
  getViewType() {
    return "chat-panel";
  }
  getDisplayText() {
    return "Chat with GPT";
  }
  async onOpen() {
    this.render();
  }
  async onClose() {
  }
  async render() {
    this.containerEl.empty();
    const styleEl = this.containerEl.createEl("style");
    styleEl.setText(`
			.chat-messages {
				padding: 10px;
				overflow-y: auto;
				height: calc(100% - 100px);
				font-size: 14px;
			}
			.user-message-container {
				display: flex;
				justify-content: flex-end;
			}	
			.user-message, .bot-message {
				margin: 10px 0;
				padding: 10px;
				border-radius: 8px;
				line-height: 1.4;
				border: var(--input-border-width) solid var(--background-modifier-border);
			}
			.user-message {
				background-color: #d8fdd2;
				display: inline-block;
				max-width: 80%;
				word-wrap: break-word;
			}
			.bot-message {
				text-align: left;
				position: relative;
				padding: 0px 10px;
				background: var(--background-modifier-form-field);
			}
			.bot-message .transfer-button {
				position: absolute;
				top: 5px;
				right: 5px;
				background: transparent;
				border: none;
				cursor: pointer;
				opacity: 0;
				transition: opacity 0.3s;
				padding: 4px;
			}
			.bot-message:hover .transfer-button {
				opacity: 1;
			}
			.bot-message .transfer-button svg {
				width: 16px;
				height: 16px;
				fill: currentColor;
			}
			.chat-input-container {
				display: flex;
				align-items: center;
				padding: 10px;
				gap: 10px;
			}
			.chat-input {
				flex-grow: 1;
				padding: 8px;
				font-size: 13px;
				resize: none;
			}
			.chat-send-button {
				background: none;
				border: none;
				cursor: pointer;
				padding: 8px;
			}
			.chat-send-button svg {
				width: 24px;
				height: 24px;
				fill: currentColor;
			}
			.spinner {
				border: 4px solid rgba(0, 0, 0, 0.1);
				border-left-color: #767676;
				border-radius: 50%;
				width: 24px;
				height: 24px;
				animation: spin 1s linear infinite;
				margin: 0 auto;
			}
			@keyframes spin {
				to { transform: rotate(360deg); }
			}			
		`);
    this.messages = this.containerEl.createEl("div", { cls: "chat-messages" });
    const inputContainer = this.containerEl.createEl("div", { cls: "chat-input-container" });
    const input = inputContainer.createEl("textarea", {
      cls: "chat-input",
      attr: { placeholder: "Escribe un mensaje..." }
    });
    const sendButton = inputContainer.createEl("button", { cls: "chat-send-button", attr: { title: "Enviar" } });
    sendButton.innerHTML = `
			<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
			  <path d="M2 21l21-9L2 3v7l15 2-15 2z"/>
			</svg>
		`;
    sendButton.addEventListener("click", () => this.sendMessage(input.value));
    input.addEventListener("keypress", (e) => {
      if (e.key === "Enter" && !e.shiftKey) {
        e.preventDefault();
        this.sendMessage(input.value);
      }
    });
  }
  async sendMessage(userMessage) {
    if (!userMessage.trim())
      return;
    const inputEl = this.containerEl.querySelector(".chat-input");
    inputEl.value = "";
    const userMessageWrapper = this.messages.createEl("div", { cls: "user-message-container" });
    userMessageWrapper.createEl("div", { cls: "user-message", text: userMessage });
    const spinnerContainer = this.messages.createEl("div", { cls: "bot-message" });
    spinnerContainer.createEl("div", { cls: "spinner" });
    const editor = this.plugin.getActiveMarkdownEditor();
    let contextText = "";
    if (editor) {
      contextText = editor.getValue();
      console.log("Texto del contexto:", contextText);
    } else {
      console.log("No se encontr\xF3 ninguna vista Markdown activa.");
    }
    const messages = [
      { role: "system", content: "Eres un asistente experto en todas las \xE1reas de conocimiento. Para las f\xF3rmulas matem\xE1ticas siempre empleas la notaci\xF3n de KaTex con delimitadores $$ para displayed formulas y $ para inlines. Generas markdown compatible 100% con Obsidian: tareas, callouts, diagramas mermaid, markmap, etc." },
      { role: "user", content: `Contexto:
${contextText}

Pregunta:
${userMessage}` }
    ];
    console.log("ChatView.sendMessage: payload:", messages);
    const response = await this.plugin.gptService.fetchResponse(messages);
    spinnerContainer.empty();
    const markdownContainer = spinnerContainer.createEl("div");
    await import_obsidian.MarkdownRenderer.renderMarkdown(response, markdownContainer, "", this);
    const transferButton = spinnerContainer.createEl("button", { cls: "transfer-button" });
    transferButton.innerHTML = `
			<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor" 
				stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24">
				<rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
				<path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
			</svg>
		`;
    transferButton.addEventListener("click", () => this.insertInEditor(response));
  }
  insertInEditor(text) {
    const editor = this.plugin.getActiveMarkdownEditor();
    if (editor) {
      editor.replaceRange(text, editor.getCursor());
      new import_obsidian.Notice("Mensaje insertado en el editor.");
    } else {
      new import_obsidian.Notice("No se encontr\xF3 un editor activo.");
    }
  }
};
var ChatSettingTab = class extends import_obsidian.PluginSettingTab {
  constructor(app, plugin) {
    super(app, plugin);
    this.plugin = plugin;
  }
  display() {
    const { containerEl } = this;
    containerEl.empty();
    new import_obsidian.Setting(containerEl).setName("API Key").setDesc("Introduce tu API Key de OpenAI").addText((text) => text.setPlaceholder("sk-...").setValue(this.plugin.settings.apiKey).onChange(async (value) => {
      this.plugin.settings.apiKey = value;
      await this.plugin.saveSettings();
    }));
    new import_obsidian.Setting(containerEl).setName("Modelo").setDesc("Elige el modelo de OpenAI").addDropdown((dropdown) => dropdown.addOptions({ "o3-mini": "o3-mini", "gpt-4o": "GPT-4o", "chatgpt-4o-latest": "ChatGPT" }).setValue(this.plugin.settings.model).onChange(async (value) => {
      this.plugin.settings.model = value;
      await this.plugin.saveSettings();
    }));
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibWFpbi50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiaW1wb3J0IHsgQXBwLCBFZGl0b3IsIE1hcmtkb3duVmlldywgTWFya2Rvd25SZW5kZXJlciwgTm90aWNlLCBQbHVnaW4sIFBsdWdpblNldHRpbmdUYWIsIFNldHRpbmcsIFdvcmtzcGFjZUxlYWYsIEl0ZW1WaWV3IH0gZnJvbSAnb2JzaWRpYW4nO1xuXG4vLyBDb25maWd1cmFjaVx1MDBGM24gZGVsIHBsdWdpblxuaW50ZXJmYWNlIENoYXRQbHVnaW5TZXR0aW5ncyB7XG5cdGFwaUtleTogc3RyaW5nO1xuXHRtb2RlbDogc3RyaW5nO1xufVxuXG5jb25zdCBERUZBVUxUX1NFVFRJTkdTOiBDaGF0UGx1Z2luU2V0dGluZ3MgPSB7XG5cdGFwaUtleTogJycsXG5cdG1vZGVsOiAnZ3B0LTRvJ1xufTtcblxuLyoqXG4gKiBTZXJ2aWNpbyBwYXJhIGludGVyYWN0dWFyIGNvbiBsYSBBUEkgZGUgT3BlbkFJLlxuICovXG5jbGFzcyBHUFRTZXJ2aWNlIHtcblx0cGx1Z2luOiBDaGF0UGx1Z2luO1xuXG5cdGNvbnN0cnVjdG9yKHBsdWdpbjogQ2hhdFBsdWdpbikge1xuXHRcdHRoaXMucGx1Z2luID0gcGx1Z2luO1xuXHR9XG5cblx0YXN5bmMgZmV0Y2hSZXNwb25zZShtZXNzYWdlczogYW55W10pOiBQcm9taXNlPHN0cmluZz4ge1xuXHRcdGNvbnN0IGFwaUtleSA9IHRoaXMucGx1Z2luLnNldHRpbmdzLmFwaUtleTtcblx0XHRpZiAoIWFwaUtleSkge1xuXHRcdFx0bmV3IE5vdGljZSgnQ29uZmlndXJhIHR1IEFQSSBLZXkgZW4gbG9zIGFqdXN0ZXMgZGVsIHBsdWdpbi4nKTtcblx0XHRcdHJldHVybiAnRXJyb3I6IE5vIEFQSSBLZXknO1xuXHRcdH1cblxuXHRcdC8vIFByZXBhcmFyIHkgcmVnaXN0cmFyIGVsIHBheWxvYWQgYW50ZXMgZGUgZW52aWFybG9cblx0XHRjb25zdCBwYXlsb2FkID0ge1xuXHRcdFx0bW9kZWw6IHRoaXMucGx1Z2luLnNldHRpbmdzLm1vZGVsLFxuXHRcdFx0bWVzc2FnZXM6IG1lc3NhZ2VzXG5cdFx0fTtcblx0XHRjb25zb2xlLmxvZyhcIkdQVFNlcnZpY2U6IGVudmlhbmRvIGEgT3BlbkFJIHBheWxvYWQ6XCIsIHBheWxvYWQpO1xuXHRcdGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJ2h0dHBzOi8vYXBpLm9wZW5haS5jb20vdjEvY2hhdC9jb21wbGV0aW9ucycsIHtcblx0XHRcdG1ldGhvZDogJ1BPU1QnLFxuXHRcdFx0aGVhZGVyczoge1xuXHRcdFx0XHQnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuXHRcdFx0XHQnQXV0aG9yaXphdGlvbic6IGBCZWFyZXIgJHthcGlLZXl9YFxuXHRcdFx0fSxcblx0XHRcdGJvZHk6IEpTT04uc3RyaW5naWZ5KHBheWxvYWQpXG5cdFx0fSk7XG5cblx0XHRjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuXHRcdHJldHVybiBkYXRhLmNob2ljZXM/LlswXT8ubWVzc2FnZT8uY29udGVudCB8fCAnRXJyb3IgZW4gbGEgcmVzcHVlc3RhIGRlIE9wZW5BSSc7XG5cdH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2hhdFBsdWdpbiBleHRlbmRzIFBsdWdpbiB7XG5cdHNldHRpbmdzOiBDaGF0UGx1Z2luU2V0dGluZ3M7XG5cdGdwdFNlcnZpY2U6IEdQVFNlcnZpY2U7XG5cblx0YXN5bmMgb25sb2FkKCkge1xuXHRcdGF3YWl0IHRoaXMubG9hZFNldHRpbmdzKCk7XG5cblx0XHQvLyBJbmljaWFsaXphbW9zIGVsIHNlcnZpY2lvIGRlIEdQVFxuXHRcdHRoaXMuZ3B0U2VydmljZSA9IG5ldyBHUFRTZXJ2aWNlKHRoaXMpO1xuXG5cdFx0Ly8gQWdyZWdhciBlbCBwYW5lbCBsYXRlcmFsIGRlIGNoYXRcblx0XHR0aGlzLnJlZ2lzdGVyVmlldygnY2hhdC1wYW5lbCcsIChsZWFmKSA9PiBuZXcgQ2hhdFZpZXcobGVhZiwgdGhpcykpO1xuXG5cdFx0dGhpcy5hZGRSaWJib25JY29uKCdtZXNzYWdlLXNxdWFyZScsICdPcGVuIENoYXQnLCAoKSA9PiB0aGlzLmFjdGl2YXRlQ2hhdFZpZXcoKSk7XG5cblx0XHQvLyBOdWV2byByaWJib24gYnV0dG9uIHBhcmEgY3JlYXIgeSBhYnJpciBsYSBub3RhIGRpYXJpYVxuXHRcdGNvbnNvbGUubG9nKFwiQWdyZWdhbmRvIGJvdFx1MDBGM24gZGUgbm90YSBkaWFyaWEhXCIpO1xuXHRcdHRoaXMuYWRkUmliYm9uSWNvbignZG9jdW1lbnQnLCAnQ3JlYXIgTm90YSBEaWFyaWEnLCAoKSA9PiB0aGlzLmNyZWF0ZURhaWx5Tm90ZSgpKTtcblxuXHRcdC8vIEFncmVnYXIgcGVzdGFcdTAwRjFhIGRlIGNvbmZpZ3VyYWNpXHUwMEYzblxuXHRcdHRoaXMuYWRkU2V0dGluZ1RhYihuZXcgQ2hhdFNldHRpbmdUYWIodGhpcy5hcHAsIHRoaXMpKTtcblxuXHRcdC8vIE51ZXZvIGNvbWFuZG8gcGFyYSBhdXRvY29tcGxldGFyIGNvbiBJQSBzaW4gZGVwZW5kZXIgZGUgbGEgdmlzdGEgZGUgY2hhdFxuXHRcdHRoaXMuYWRkQ29tbWFuZCh7XG5cdFx0XHRpZDogJ2F1dG9jb21wbGV0ZS13aXRoLWFpJyxcblx0XHRcdG5hbWU6ICdBdXRvY29tcGxldGFyIGNvbiBJQScsXG5cdFx0XHRjYWxsYmFjazogKCkgPT4gdGhpcy5hdXRvY29tcGxldGVXaXRoQUkoKVxuXHRcdH0pO1xuXHR9XG5cblx0LyoqXG5cdCAqIE9idGllbmUgZWwgZWRpdG9yIE1hcmtkb3duIGFjdGl2by5cblx0ICovXG5cdGdldEFjdGl2ZU1hcmtkb3duRWRpdG9yKCk6IEVkaXRvciB8IG51bGwge1xuXHRcdGNvbnN0IG1hcmtkb3duTGVhZiA9IHRoaXMuYXBwLndvcmtzcGFjZVxuXHRcdFx0LmdldExlYXZlc09mVHlwZShcIm1hcmtkb3duXCIpXG5cdFx0XHQuZmluZChsZWFmID0+IGxlYWYuY29udGFpbmVyRWwub2Zmc2V0UGFyZW50ICE9PSBudWxsICYmIGxlYWYudmlldyBpbnN0YW5jZW9mIE1hcmtkb3duVmlldyk7XG5cdFx0aWYgKG1hcmtkb3duTGVhZikge1xuXHRcdFx0cmV0dXJuIChtYXJrZG93bkxlYWYudmlldyBhcyBNYXJrZG93blZpZXcpLmVkaXRvcjtcblx0XHR9XG5cdFx0cmV0dXJuIG51bGw7XG5cdH1cblxuXHQvKipcblx0ICogQ29tYW5kbyBkZSBhdXRvY29tcGxldGFyOiBvYnRpZW5lIGVsIGNvbnRlbmlkbyBhY3R1YWwgZGVsIGVkaXRvcixcblx0ICogY29uc3VsdGEgYSBHUFQgeSBhZ3JlZ2EgbGEgcmVzcHVlc3RhLlxuXHQgKi9cblx0YXN5bmMgYXV0b2NvbXBsZXRlV2l0aEFJKCkge1xuXHRcdGNvbnN0IGVkaXRvciA9IHRoaXMuZ2V0QWN0aXZlTWFya2Rvd25FZGl0b3IoKTtcblx0XHRpZiAoIWVkaXRvcikge1xuXHRcdFx0bmV3IE5vdGljZShcIk5vIHNlIGVuY29udHJcdTAwRjMgdW4gZWRpdG9yIGFjdGl2by5cIik7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Ly8gQW50aWd1bzogZW52aWFiYSB0b2RvIGVsIGNvbnRlbmlkbyBkZSBsYSBub3RhOyBzaSBubyBmdW5jaW9uYSwgcmVzdGF1cmEgbGEgbFx1MDBFRG5lYSBzaWd1aWVudGUuXG5cdFx0Ly8gY29uc3QgdXNlclRleHQgPSBlZGl0b3IuZ2V0VmFsdWUoKS50cmltKCk7XG5cdFx0Ly8gT2J0ZW5lciBzb2xvIGVsIHRleHRvIGhhc3RhIGxhIHBvc2ljaVx1MDBGM24gYWN0dWFsIGRlbCBjdXJzb3Jcblx0XHRjb25zdCBjdXJzb3IgPSBlZGl0b3IuZ2V0Q3Vyc29yKCk7XG5cdFx0Y29uc3QgdXNlclRleHQgPSBlZGl0b3IuZ2V0UmFuZ2UoeyBsaW5lOiAwLCBjaDogMCB9LCBjdXJzb3IpLnRyaW0oKTtcblx0XHRpZiAoIXVzZXJUZXh0KSB7XG5cdFx0XHRuZXcgTm90aWNlKFwiRWwgZWRpdG9yIGVzdFx1MDBFMSB2YWNcdTAwRURvLiBFc2NyaWJlIGFsZ28gYW50ZXMgZGUgYXV0b2NvbXBsZXRhci5cIik7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Y29uc3QgbWVzc2FnZXMgPSBbXG5cdFx0XHR7IHJvbGU6ICdzeXN0ZW0nLCBjb250ZW50OiBcIkVyZXMgdW4gYXNpc3RlbnRlIElBIHF1ZSBjb21wbGV0YSBsb3MgdGV4dG9zIHF1ZSB0ZSBlbnZcdTAwRURhbiBsb3MgdXN1YXJpb3MsIHJlc3BldGFuZG8gZWwgZXN0aWxvIHkgdG9ubyBwcmV2aW8uIE5vIGRpY2VzIG5hZGEgbVx1MDBFMXMsIHNpbXBsZW1lbnRlIGNvbnRpblx1MDBGQWFzIGVsIHRleHRvIHF1ZSB0ZSBwYXNhbi5cIiB9LFxuXHRcdFx0eyByb2xlOiAndXNlcicsIGNvbnRlbnQ6IHVzZXJUZXh0IH1cblx0XHRdO1xuXG5cdFx0Ly8gRGVwdXJhciBwYXlsb2FkOiBtb3N0cmFyIGVuIGNvbnNvbGEgbG8gcXVlIHNlIGVudlx1MDBFRGEgYSBsYSBJQVxuXHRcdGNvbnNvbGUubG9nKFwiQXV0b2NvbXBsZXRlV2l0aEFJIHBheWxvYWQ6XCIsIG1lc3NhZ2VzKTtcblx0XHRjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuZ3B0U2VydmljZS5mZXRjaFJlc3BvbnNlKG1lc3NhZ2VzKTtcblx0XHRpZiAoIXJlc3BvbnNlIHx8IHJlc3BvbnNlLnN0YXJ0c1dpdGgoXCJFcnJvclwiKSkge1xuXHRcdFx0bmV3IE5vdGljZShcIkh1Ym8gdW4gcHJvYmxlbWEgb2J0ZW5pZW5kbyBsYSByZXNwdWVzdGEgZGUgbGEgSUEuXCIpO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdC8vIEluc2VydGFyIGxhIHJlc3B1ZXN0YSBlbiBsYSBwb3NpY2lcdTAwRjNuIG9yaWdpbmFsIGRlbCBjdXJzb3Jcblx0XHRlZGl0b3IucmVwbGFjZVJhbmdlKGBcXG4ke3Jlc3BvbnNlfWAsIGN1cnNvcik7XG5cdFx0bmV3IE5vdGljZShcIlRleHRvIGF1dG9jb21wbGV0YWRvIGNvbiBJQS5cIik7XG5cdH1cblxuXHRhc3luYyBhY3RpdmF0ZUNoYXRWaWV3KCkge1xuXHRcdGNvbnN0IHsgd29ya3NwYWNlIH0gPSB0aGlzLmFwcDtcblx0XHRsZXQgbGVhZiA9IHdvcmtzcGFjZS5nZXRMZWF2ZXNPZlR5cGUoJ2NoYXQtcGFuZWwnKVswXTtcblx0XHRpZiAoIWxlYWYpIHtcblx0XHRcdGxlYWYgPSB3b3Jrc3BhY2UuZ2V0UmlnaHRMZWFmKGZhbHNlKTtcblx0XHRcdGF3YWl0IGxlYWYuc2V0Vmlld1N0YXRlKHsgdHlwZTogJ2NoYXQtcGFuZWwnLCBhY3RpdmU6IHRydWUgfSk7XG5cdFx0fVxuXHRcdHdvcmtzcGFjZS5yZXZlYWxMZWFmKGxlYWYpO1xuXHR9XG5cblx0YXN5bmMgY3JlYXRlRGFpbHlOb3RlKCkge1xuXHRcdC8vIE9idGVuZXIgbGEgZmVjaGEgYWN0dWFsXG5cdFx0Y29uc3Qgbm93ID0gbmV3IERhdGUoKTtcblx0XHRjb25zdCB5ZWFyID0gbm93LmdldEZ1bGxZZWFyKCkudG9TdHJpbmcoKTtcblx0XHRjb25zdCBtb250aCA9IFN0cmluZyhub3cuZ2V0TW9udGgoKSArIDEpLnBhZFN0YXJ0KDIsICcwJyk7XG5cdFx0Y29uc3QgZGF5ID0gU3RyaW5nKG5vdy5nZXREYXRlKCkpLnBhZFN0YXJ0KDIsICcwJyk7XG5cdCAgXG5cdFx0Ly8gRGVmaW5pciBsYXMgY2FycGV0YXMgeSBsYSBydXRhIGRlbCBhcmNoaXZvXG5cdFx0Y29uc3QgeWVhckZvbGRlciA9IHllYXI7XG5cdFx0Y29uc3QgbW9udGhGb2xkZXIgPSBgJHt5ZWFyfS0ke21vbnRofWA7XG5cdFx0Y29uc3QgZGF5Rm9sZGVyID0gYCR7eWVhcn0tJHttb250aH0tJHtkYXl9YDtcblx0XHRjb25zdCBub3RlUGF0aCA9IGAke3llYXJGb2xkZXJ9LyR7bW9udGhGb2xkZXJ9LyR7ZGF5Rm9sZGVyfS8ke2RheUZvbGRlcn0ubWRgO1xuXHQgIFxuXHRcdC8vIFZlcmlmaWNhciBzaSBsYSBub3RhIHlhIGV4aXN0ZVxuXHRcdGxldCBmaWxlID0gdGhpcy5hcHAudmF1bHQuZ2V0QWJzdHJhY3RGaWxlQnlQYXRoKG5vdGVQYXRoKTtcblx0XHRpZiAoIWZpbGUpIHtcblx0XHQgIC8vIENyZWFyIGxhIGVzdHJ1Y3R1cmEgZGUgY2FycGV0YXMgbmVjZXNhcmlhLiBTaSBsYSBjYXJwZXRhIHlhIGV4aXN0ZSwgc2UgcHVlZGUgaWdub3JhciBlbCBlcnJvci5cblx0XHQgIHRyeSB7IGF3YWl0IHRoaXMuYXBwLnZhdWx0LmFkYXB0ZXIubWtkaXIoeWVhckZvbGRlcik7IH0gY2F0Y2ggKGUpIHt9XG5cdFx0ICB0cnkgeyBhd2FpdCB0aGlzLmFwcC52YXVsdC5hZGFwdGVyLm1rZGlyKGAke3llYXJGb2xkZXJ9LyR7bW9udGhGb2xkZXJ9YCk7IH0gY2F0Y2ggKGUpIHt9XG5cdFx0ICB0cnkgeyBhd2FpdCB0aGlzLmFwcC52YXVsdC5hZGFwdGVyLm1rZGlyKGAke3llYXJGb2xkZXJ9LyR7bW9udGhGb2xkZXJ9LyR7ZGF5Rm9sZGVyfWApOyB9IGNhdGNoIChlKSB7fVxuXHQgIFxuXHRcdCAgLy8gQ3JlYXIgbGEgbm90YSBudWV2YSAoYXF1XHUwMEVEIHB1ZWRlcyBkZWZpbmlyIHVuIGNvbnRlbmlkbyBpbmljaWFsIHNpIGxvIGRlc2Vhcylcblx0XHQgIGZpbGUgPSBhd2FpdCB0aGlzLmFwcC52YXVsdC5jcmVhdGUobm90ZVBhdGgsIGAjICR7ZGF5Rm9sZGVyfVxcblxcbmApO1xuXHRcdH1cblx0ICBcblx0XHQvLyBBYnJpciBlbCBhcmNoaXZvIGVuIHVuIG51ZXZvIHBhbmVsXG5cdFx0Y29uc3QgbGVhZiA9IHRoaXMuYXBwLndvcmtzcGFjZS5nZXRMZWFmKHRydWUpO1xuXHRcdGF3YWl0IGxlYWYub3BlbkZpbGUoZmlsZSk7XG5cdH1cblxuXHRhc3luYyBsb2FkU2V0dGluZ3MoKSB7XG5cdFx0dGhpcy5zZXR0aW5ncyA9IE9iamVjdC5hc3NpZ24oe30sIERFRkFVTFRfU0VUVElOR1MsIGF3YWl0IHRoaXMubG9hZERhdGEoKSk7XG5cdH1cblxuXHRhc3luYyBzYXZlU2V0dGluZ3MoKSB7XG5cdFx0YXdhaXQgdGhpcy5zYXZlRGF0YSh0aGlzLnNldHRpbmdzKTtcblx0fVxufVxuXG4vKipcbiAqIFZpc3RhIGRlIGNoYXQgcXVlIHV0aWxpemEgZWwgR1BUU2VydmljZSBkZWwgcGx1Z2luIHBhcmEgY29tdW5pY2Fyc2UgY29uIGxhIEFQSS5cbiAqL1xuY2xhc3MgQ2hhdFZpZXcgZXh0ZW5kcyBJdGVtVmlldyB7XG5cdHBsdWdpbjogQ2hhdFBsdWdpbjtcblx0bWVzc2FnZXM6IEhUTUxFbGVtZW50O1xuXG5cdGNvbnN0cnVjdG9yKGxlYWY6IFdvcmtzcGFjZUxlYWYsIHBsdWdpbjogQ2hhdFBsdWdpbikge1xuXHRcdHN1cGVyKGxlYWYpO1xuXHRcdHRoaXMucGx1Z2luID0gcGx1Z2luO1xuXHR9XG5cblx0Z2V0Vmlld1R5cGUoKSB7XG5cdFx0cmV0dXJuICdjaGF0LXBhbmVsJztcblx0fVxuXG5cdGdldERpc3BsYXlUZXh0KCkge1xuXHRcdHJldHVybiAnQ2hhdCB3aXRoIEdQVCc7XG5cdH1cblxuXHRhc3luYyBvbk9wZW4oKSB7XG5cdFx0dGhpcy5yZW5kZXIoKTtcblx0fVxuXG5cdGFzeW5jIG9uQ2xvc2UoKSB7XG5cdFx0Ly8gTGltcGlhciByZWN1cnNvcyBzaSBlcyBuZWNlc2FyaW9cblx0fVxuXG5cdGFzeW5jIHJlbmRlcigpIHtcblx0XHR0aGlzLmNvbnRhaW5lckVsLmVtcHR5KCk7XG5cdCAgXG5cdFx0Ly8gSW55ZWN0YXIgZXN0aWxvcyBwYXJhIGVsIGNoYXRcblx0XHRjb25zdCBzdHlsZUVsID0gdGhpcy5jb250YWluZXJFbC5jcmVhdGVFbCgnc3R5bGUnKTtcblx0XHRzdHlsZUVsLnNldFRleHQoYFxuXHRcdFx0LmNoYXQtbWVzc2FnZXMge1xuXHRcdFx0XHRwYWRkaW5nOiAxMHB4O1xuXHRcdFx0XHRvdmVyZmxvdy15OiBhdXRvO1xuXHRcdFx0XHRoZWlnaHQ6IGNhbGMoMTAwJSAtIDEwMHB4KTtcblx0XHRcdFx0Zm9udC1zaXplOiAxNHB4O1xuXHRcdFx0fVxuXHRcdFx0LnVzZXItbWVzc2FnZS1jb250YWluZXIge1xuXHRcdFx0XHRkaXNwbGF5OiBmbGV4O1xuXHRcdFx0XHRqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtZW5kO1xuXHRcdFx0fVx0XG5cdFx0XHQudXNlci1tZXNzYWdlLCAuYm90LW1lc3NhZ2Uge1xuXHRcdFx0XHRtYXJnaW46IDEwcHggMDtcblx0XHRcdFx0cGFkZGluZzogMTBweDtcblx0XHRcdFx0Ym9yZGVyLXJhZGl1czogOHB4O1xuXHRcdFx0XHRsaW5lLWhlaWdodDogMS40O1xuXHRcdFx0XHRib3JkZXI6IHZhcigtLWlucHV0LWJvcmRlci13aWR0aCkgc29saWQgdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpO1xuXHRcdFx0fVxuXHRcdFx0LnVzZXItbWVzc2FnZSB7XG5cdFx0XHRcdGJhY2tncm91bmQtY29sb3I6ICNkOGZkZDI7XG5cdFx0XHRcdGRpc3BsYXk6IGlubGluZS1ibG9jaztcblx0XHRcdFx0bWF4LXdpZHRoOiA4MCU7XG5cdFx0XHRcdHdvcmQtd3JhcDogYnJlYWstd29yZDtcblx0XHRcdH1cblx0XHRcdC5ib3QtbWVzc2FnZSB7XG5cdFx0XHRcdHRleHQtYWxpZ246IGxlZnQ7XG5cdFx0XHRcdHBvc2l0aW9uOiByZWxhdGl2ZTtcblx0XHRcdFx0cGFkZGluZzogMHB4IDEwcHg7XG5cdFx0XHRcdGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItZm9ybS1maWVsZCk7XG5cdFx0XHR9XG5cdFx0XHQuYm90LW1lc3NhZ2UgLnRyYW5zZmVyLWJ1dHRvbiB7XG5cdFx0XHRcdHBvc2l0aW9uOiBhYnNvbHV0ZTtcblx0XHRcdFx0dG9wOiA1cHg7XG5cdFx0XHRcdHJpZ2h0OiA1cHg7XG5cdFx0XHRcdGJhY2tncm91bmQ6IHRyYW5zcGFyZW50O1xuXHRcdFx0XHRib3JkZXI6IG5vbmU7XG5cdFx0XHRcdGN1cnNvcjogcG9pbnRlcjtcblx0XHRcdFx0b3BhY2l0eTogMDtcblx0XHRcdFx0dHJhbnNpdGlvbjogb3BhY2l0eSAwLjNzO1xuXHRcdFx0XHRwYWRkaW5nOiA0cHg7XG5cdFx0XHR9XG5cdFx0XHQuYm90LW1lc3NhZ2U6aG92ZXIgLnRyYW5zZmVyLWJ1dHRvbiB7XG5cdFx0XHRcdG9wYWNpdHk6IDE7XG5cdFx0XHR9XG5cdFx0XHQuYm90LW1lc3NhZ2UgLnRyYW5zZmVyLWJ1dHRvbiBzdmcge1xuXHRcdFx0XHR3aWR0aDogMTZweDtcblx0XHRcdFx0aGVpZ2h0OiAxNnB4O1xuXHRcdFx0XHRmaWxsOiBjdXJyZW50Q29sb3I7XG5cdFx0XHR9XG5cdFx0XHQuY2hhdC1pbnB1dC1jb250YWluZXIge1xuXHRcdFx0XHRkaXNwbGF5OiBmbGV4O1xuXHRcdFx0XHRhbGlnbi1pdGVtczogY2VudGVyO1xuXHRcdFx0XHRwYWRkaW5nOiAxMHB4O1xuXHRcdFx0XHRnYXA6IDEwcHg7XG5cdFx0XHR9XG5cdFx0XHQuY2hhdC1pbnB1dCB7XG5cdFx0XHRcdGZsZXgtZ3JvdzogMTtcblx0XHRcdFx0cGFkZGluZzogOHB4O1xuXHRcdFx0XHRmb250LXNpemU6IDEzcHg7XG5cdFx0XHRcdHJlc2l6ZTogbm9uZTtcblx0XHRcdH1cblx0XHRcdC5jaGF0LXNlbmQtYnV0dG9uIHtcblx0XHRcdFx0YmFja2dyb3VuZDogbm9uZTtcblx0XHRcdFx0Ym9yZGVyOiBub25lO1xuXHRcdFx0XHRjdXJzb3I6IHBvaW50ZXI7XG5cdFx0XHRcdHBhZGRpbmc6IDhweDtcblx0XHRcdH1cblx0XHRcdC5jaGF0LXNlbmQtYnV0dG9uIHN2ZyB7XG5cdFx0XHRcdHdpZHRoOiAyNHB4O1xuXHRcdFx0XHRoZWlnaHQ6IDI0cHg7XG5cdFx0XHRcdGZpbGw6IGN1cnJlbnRDb2xvcjtcblx0XHRcdH1cblx0XHRcdC5zcGlubmVyIHtcblx0XHRcdFx0Ym9yZGVyOiA0cHggc29saWQgcmdiYSgwLCAwLCAwLCAwLjEpO1xuXHRcdFx0XHRib3JkZXItbGVmdC1jb2xvcjogIzc2NzY3Njtcblx0XHRcdFx0Ym9yZGVyLXJhZGl1czogNTAlO1xuXHRcdFx0XHR3aWR0aDogMjRweDtcblx0XHRcdFx0aGVpZ2h0OiAyNHB4O1xuXHRcdFx0XHRhbmltYXRpb246IHNwaW4gMXMgbGluZWFyIGluZmluaXRlO1xuXHRcdFx0XHRtYXJnaW46IDAgYXV0bztcblx0XHRcdH1cblx0XHRcdEBrZXlmcmFtZXMgc3BpbiB7XG5cdFx0XHRcdHRvIHsgdHJhbnNmb3JtOiByb3RhdGUoMzYwZGVnKTsgfVxuXHRcdFx0fVx0XHRcdFxuXHRcdGApO1xuXHQgIFxuXHRcdC8vIENvbnRlbmVkb3IgZGUgbWVuc2FqZXNcblx0XHR0aGlzLm1lc3NhZ2VzID0gdGhpcy5jb250YWluZXJFbC5jcmVhdGVFbCgnZGl2JywgeyBjbHM6ICdjaGF0LW1lc3NhZ2VzJyB9KTtcblx0ICBcblx0XHQvLyBDb250ZW5lZG9yIHBhcmEgZWwgaW5wdXQgeSBlbCBib3RcdTAwRjNuIGRlIGVudmlhclxuXHRcdGNvbnN0IGlucHV0Q29udGFpbmVyID0gdGhpcy5jb250YWluZXJFbC5jcmVhdGVFbCgnZGl2JywgeyBjbHM6ICdjaGF0LWlucHV0LWNvbnRhaW5lcicgfSk7XG5cdFx0Y29uc3QgaW5wdXQgPSBpbnB1dENvbnRhaW5lci5jcmVhdGVFbCgndGV4dGFyZWEnLCB7XG5cdFx0ICBjbHM6ICdjaGF0LWlucHV0Jyxcblx0XHQgIGF0dHI6IHsgcGxhY2Vob2xkZXI6ICdFc2NyaWJlIHVuIG1lbnNhamUuLi4nIH1cblx0XHR9KTtcblx0XHRcblx0XHRjb25zdCBzZW5kQnV0dG9uID0gaW5wdXRDb250YWluZXIuY3JlYXRlRWwoJ2J1dHRvbicsIHsgY2xzOiAnY2hhdC1zZW5kLWJ1dHRvbicsIGF0dHI6IHsgdGl0bGU6ICdFbnZpYXInIH0gfSk7XG5cdFx0c2VuZEJ1dHRvbi5pbm5lckhUTUwgPSBgXG5cdFx0XHQ8c3ZnIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCI+XG5cdFx0XHQgIDxwYXRoIGQ9XCJNMiAyMWwyMS05TDIgM3Y3bDE1IDItMTUgMnpcIi8+XG5cdFx0XHQ8L3N2Zz5cblx0XHRgO1xuXHQgIFxuXHRcdHNlbmRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB0aGlzLnNlbmRNZXNzYWdlKGlucHV0LnZhbHVlKSk7XG5cdFx0aW5wdXQuYWRkRXZlbnRMaXN0ZW5lcigna2V5cHJlc3MnLCAoZSkgPT4ge1xuXHRcdCAgaWYgKGUua2V5ID09PSAnRW50ZXInICYmICFlLnNoaWZ0S2V5KSB7XG5cdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHR0aGlzLnNlbmRNZXNzYWdlKGlucHV0LnZhbHVlKTtcblx0XHQgIH1cblx0XHR9KTtcblx0fVxuXG5cdGFzeW5jIHNlbmRNZXNzYWdlKHVzZXJNZXNzYWdlOiBzdHJpbmcpIHtcblx0XHRpZiAoIXVzZXJNZXNzYWdlLnRyaW0oKSkgcmV0dXJuO1xuXHRcblx0XHQvLyBMaW1waWFyIGVsIGlucHV0XG5cdFx0Y29uc3QgaW5wdXRFbCA9IHRoaXMuY29udGFpbmVyRWwucXVlcnlTZWxlY3RvcignLmNoYXQtaW5wdXQnKSBhcyBIVE1MVGV4dEFyZWFFbGVtZW50O1xuXHRcdGlucHV0RWwudmFsdWUgPSAnJztcblx0XG5cdFx0Ly8gTW9zdHJhciBtZW5zYWplIGRlbCB1c3VhcmlvXG5cdFx0Y29uc3QgdXNlck1lc3NhZ2VXcmFwcGVyID0gdGhpcy5tZXNzYWdlcy5jcmVhdGVFbCgnZGl2JywgeyBjbHM6ICd1c2VyLW1lc3NhZ2UtY29udGFpbmVyJyB9KTtcblx0XHR1c2VyTWVzc2FnZVdyYXBwZXIuY3JlYXRlRWwoJ2RpdicsIHsgY2xzOiAndXNlci1tZXNzYWdlJywgdGV4dDogdXNlck1lc3NhZ2UgfSk7XG5cdFxuXHRcdC8vIE1vc3RyYXIgc3Bpbm5lciBtaWVudHJhcyBzZSBlc3BlcmEgbGEgcmVzcHVlc3RhXG5cdFx0Y29uc3Qgc3Bpbm5lckNvbnRhaW5lciA9IHRoaXMubWVzc2FnZXMuY3JlYXRlRWwoJ2RpdicsIHsgY2xzOiAnYm90LW1lc3NhZ2UnIH0pO1xuXHRcdHNwaW5uZXJDb250YWluZXIuY3JlYXRlRWwoJ2RpdicsIHsgY2xzOiAnc3Bpbm5lcicgfSk7XG5cdFxuXHRcdC8vIE9idGVuZXIgY29udGV4dG8gZGVzZGUgZWwgZWRpdG9yIGFjdGl2byAob3BjaW9uYWwpXG5cdFx0Y29uc3QgZWRpdG9yID0gdGhpcy5wbHVnaW4uZ2V0QWN0aXZlTWFya2Rvd25FZGl0b3IoKTtcblx0XHRsZXQgY29udGV4dFRleHQgPSAnJztcblx0XHRpZiAoZWRpdG9yKSB7XG5cdFx0XHRjb250ZXh0VGV4dCA9IGVkaXRvci5nZXRWYWx1ZSgpO1xuXHRcdFx0Y29uc29sZS5sb2coXCJUZXh0byBkZWwgY29udGV4dG86XCIsIGNvbnRleHRUZXh0KTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Y29uc29sZS5sb2coXCJObyBzZSBlbmNvbnRyXHUwMEYzIG5pbmd1bmEgdmlzdGEgTWFya2Rvd24gYWN0aXZhLlwiKTtcblx0XHR9XG5cdFxuXHRcdC8vIENyZWFyIG1lbnNhamVzIHBhcmEgbGEgbGxhbWFkYSBhIEdQVFxuXHRcdGNvbnN0IG1lc3NhZ2VzID0gW1xuXHRcdFx0eyByb2xlOiAnc3lzdGVtJywgY29udGVudDogJ0VyZXMgdW4gYXNpc3RlbnRlIGV4cGVydG8gZW4gdG9kYXMgbGFzIFx1MDBFMXJlYXMgZGUgY29ub2NpbWllbnRvLiBQYXJhIGxhcyBmXHUwMEYzcm11bGFzIG1hdGVtXHUwMEUxdGljYXMgc2llbXByZSBlbXBsZWFzIGxhIG5vdGFjaVx1MDBGM24gZGUgS2FUZXggY29uIGRlbGltaXRhZG9yZXMgJCQgcGFyYSBkaXNwbGF5ZWQgZm9ybXVsYXMgeSAkIHBhcmEgaW5saW5lcy4gR2VuZXJhcyBtYXJrZG93biBjb21wYXRpYmxlIDEwMCUgY29uIE9ic2lkaWFuOiB0YXJlYXMsIGNhbGxvdXRzLCBkaWFncmFtYXMgbWVybWFpZCwgbWFya21hcCwgZXRjLicgfSxcblx0XHRcdHsgcm9sZTogJ3VzZXInLCBjb250ZW50OiBgQ29udGV4dG86XFxuJHtjb250ZXh0VGV4dH1cXG5cXG5QcmVndW50YTpcXG4ke3VzZXJNZXNzYWdlfWAgfVxuXHRcdF07XG5cbiAgICAgICAvLyBEZXB1cmFyIHBheWxvYWQ6IG1vc3RyYXIgZW4gY29uc29sYSBsbyBxdWUgc2UgZW52XHUwMEVEYSBhIGxhIElBXG4gICAgICAgY29uc29sZS5sb2coXCJDaGF0Vmlldy5zZW5kTWVzc2FnZTogcGF5bG9hZDpcIiwgbWVzc2FnZXMpO1xuICAgICAgIC8vIFNvbGljaXRhciByZXNwdWVzdGEgYSBHUFQgYSB0cmF2XHUwMEU5cyBkZWwgc2VydmljaW9cbiAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMucGx1Z2luLmdwdFNlcnZpY2UuZmV0Y2hSZXNwb25zZShtZXNzYWdlcyk7XG5cdFxuXHRcdC8vIFJlZW1wbGF6YXIgZWwgc3Bpbm5lciBwb3IgbGEgcmVzcHVlc3RhIHJlbmRlcml6YWRhXG5cdFx0c3Bpbm5lckNvbnRhaW5lci5lbXB0eSgpO1xuXHRcdGNvbnN0IG1hcmtkb3duQ29udGFpbmVyID0gc3Bpbm5lckNvbnRhaW5lci5jcmVhdGVFbCgnZGl2Jyk7XG5cdFx0YXdhaXQgTWFya2Rvd25SZW5kZXJlci5yZW5kZXJNYXJrZG93bihyZXNwb25zZSwgbWFya2Rvd25Db250YWluZXIsICcnLCB0aGlzKTtcblx0XG5cdFx0Ly8gQm90XHUwMEYzbiBwYXJhIGluc2VydGFyIGxhIHJlc3B1ZXN0YSBlbiBlbCBlZGl0b3Jcblx0XHRjb25zdCB0cmFuc2ZlckJ1dHRvbiA9IHNwaW5uZXJDb250YWluZXIuY3JlYXRlRWwoJ2J1dHRvbicsIHsgY2xzOiAndHJhbnNmZXItYnV0dG9uJyB9KTtcblx0XHR0cmFuc2ZlckJ1dHRvbi5pbm5lckhUTUwgPSBgXG5cdFx0XHQ8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjI0XCIgaGVpZ2h0PVwiMjRcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIFxuXHRcdFx0XHRzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPlxuXHRcdFx0XHQ8cmVjdCB4PVwiOVwiIHk9XCI5XCIgd2lkdGg9XCIxM1wiIGhlaWdodD1cIjEzXCIgcng9XCIyXCIgcnk9XCIyXCI+PC9yZWN0PlxuXHRcdFx0XHQ8cGF0aCBkPVwiTTUgMTVINGEyIDIgMCAwIDEtMi0yVjRhMiAyIDAgMCAxIDItMmg5YTIgMiAwIDAgMSAyIDJ2MVwiPjwvcGF0aD5cblx0XHRcdDwvc3ZnPlxuXHRcdGA7XG5cdFx0dHJhbnNmZXJCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB0aGlzLmluc2VydEluRWRpdG9yKHJlc3BvbnNlKSk7XG5cdH1cblx0XHRcblx0aW5zZXJ0SW5FZGl0b3IodGV4dDogc3RyaW5nKSB7XG5cdFx0Y29uc3QgZWRpdG9yID0gdGhpcy5wbHVnaW4uZ2V0QWN0aXZlTWFya2Rvd25FZGl0b3IoKTtcblx0XHRpZiAoZWRpdG9yKSB7XG5cdFx0XHRlZGl0b3IucmVwbGFjZVJhbmdlKHRleHQsIGVkaXRvci5nZXRDdXJzb3IoKSk7XG5cdFx0XHRuZXcgTm90aWNlKCdNZW5zYWplIGluc2VydGFkbyBlbiBlbCBlZGl0b3IuJyk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdG5ldyBOb3RpY2UoJ05vIHNlIGVuY29udHJcdTAwRjMgdW4gZWRpdG9yIGFjdGl2by4nKTtcblx0XHR9XG5cdH1cbn1cblxuLyoqXG4gKiBQZXN0YVx1MDBGMWEgZGUgY29uZmlndXJhY2lcdTAwRjNuIGRlbCBwbHVnaW4uXG4gKi9cbmNsYXNzIENoYXRTZXR0aW5nVGFiIGV4dGVuZHMgUGx1Z2luU2V0dGluZ1RhYiB7XG5cdHBsdWdpbjogQ2hhdFBsdWdpbjtcblxuXHRjb25zdHJ1Y3RvcihhcHA6IEFwcCwgcGx1Z2luOiBDaGF0UGx1Z2luKSB7XG5cdFx0c3VwZXIoYXBwLCBwbHVnaW4pO1xuXHRcdHRoaXMucGx1Z2luID0gcGx1Z2luO1xuXHR9XG5cblx0ZGlzcGxheSgpOiB2b2lkIHtcblx0XHRjb25zdCB7IGNvbnRhaW5lckVsIH0gPSB0aGlzO1xuXHRcdGNvbnRhaW5lckVsLmVtcHR5KCk7XG5cblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcblx0XHRcdC5zZXROYW1lKCdBUEkgS2V5Jylcblx0XHRcdC5zZXREZXNjKCdJbnRyb2R1Y2UgdHUgQVBJIEtleSBkZSBPcGVuQUknKVxuXHRcdFx0LmFkZFRleHQodGV4dCA9PiB0ZXh0XG5cdFx0XHRcdC5zZXRQbGFjZWhvbGRlcignc2stLi4uJylcblx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmFwaUtleSlcblx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuXHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmFwaUtleSA9IHZhbHVlO1xuXHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuXHRcdFx0XHR9KSk7XG5cblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcblx0XHRcdC5zZXROYW1lKCdNb2RlbG8nKVxuXHRcdFx0LnNldERlc2MoJ0VsaWdlIGVsIG1vZGVsbyBkZSBPcGVuQUknKVxuXHRcdFx0LmFkZERyb3Bkb3duKGRyb3Bkb3duID0+IGRyb3Bkb3duXG5cdFx0XHRcdC5hZGRPcHRpb25zKHsgJ28zLW1pbmknOiAnbzMtbWluaScsICdncHQtNG8nOiAnR1BULTRvJywgJ2NoYXRncHQtNG8tbGF0ZXN0JzogJ0NoYXRHUFQnIH0pXG5cdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5tb2RlbClcblx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuXHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLm1vZGVsID0gdmFsdWU7XG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNl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
